/*
 * Old Norse (Norrœnt mál) Grammar - Comprehensive Edition
 * 
 * This grammar provides extensive coverage of Old Norse language structures including:
 * - Regular and irregular verb conjugations (all tenses, moods, voices)
 * - Full noun declension system (4 cases, 3 genders, 3 numbers including dual)
 * - Strong and weak verb classes (all ablaut patterns)
 * - Strong and weak adjective declensions
 * - Context-sensitive agreement rules (gender, number, case, definiteness)
 * - Complex sentence structures with subordination
 * - Multiple tenses (present, past, perfect, pluperfect)
 * - Branch distinctions (West Norse vs. East Norse)
 * - Ancestor of all modern North Germanic languages (Viking Age, 800-1350 AD)
 * 
 * Copyright (C) 2024 Minotaur Project
 * Licensed under GNU Affero General Public License v3.0 (AGPL-3.0)
 */

Grammar: Old_Norse
TokenSplitter: Space
FormatType: CEBNF
ContextSensitive: true
SymbolTableSharing: hierarchical

Keywords: ok, eða, en, ef, at, er, var, vera, hafa, með, þú, hann, hon, þat, ek, vér, þér, þeir, þær, þau, minn, þinn, hans, hennar, várr, yðvarr, þeirra, eigi, aldregi, mjök, svá, hér, þar, nú, þá, jafnan, opt, sjaldan

/* Branch markers for Old Norse linguistic variations */
@BRANCH[west_norse]    /* West Norse - Iceland, Norway, Faroe Islands, Greenland, Shetland, Orkney */
@BRANCH[east_norse]    /* East Norse - Denmark, Sweden, Eastern settlements */

// ============================================================================
// NOUN PHRASES (4 cases, 3 genders, 3 numbers including dual)
// ============================================================================

<subject-np> ::= <noun-phrase> @CASE[nominative]

<object-np> ::= <noun-phrase> @CASE[accusative]

<indirect-object-np> ::= <noun-phrase> @CASE[dative]

<genitive-np> ::= <noun-phrase> @CASE[genitive]

<noun-phrase> ::= [ <article> ] [ <adjective> ] <noun>
               | <pronoun>
               | <proper-noun>

// ============================================================================
// NOUNS (Strong and Weak Declensions)
// ============================================================================

// Strong Masculine (hestr - horse)
<noun-masc-strong-nom-sg> ::= "hestr" @GENDER[masculine] @NUMBER[singular] @CASE[nominative] @DECLENSION[strong]
<noun-masc-strong-acc-sg> ::= "hest" @GENDER[masculine] @NUMBER[singular] @CASE[accusative] @DECLENSION[strong]
<noun-masc-strong-dat-sg> ::= "hesti" @GENDER[masculine] @NUMBER[singular] @CASE[dative] @DECLENSION[strong]
<noun-masc-strong-gen-sg> ::= "hests" @GENDER[masculine] @NUMBER[singular] @CASE[genitive] @DECLENSION[strong]
<noun-masc-strong-nom-pl> ::= "hestar" @GENDER[masculine] @NUMBER[plural] @CASE[nominative] @DECLENSION[strong]
<noun-masc-strong-acc-pl> ::= "hesta" @GENDER[masculine] @NUMBER[plural] @CASE[accusative] @DECLENSION[strong]
<noun-masc-strong-dat-pl> ::= "hestum" @GENDER[masculine] @NUMBER[plural] @CASE[dative] @DECLENSION[strong]
<noun-masc-strong-gen-pl> ::= "hesta" @GENDER[masculine] @NUMBER[plural] @CASE[genitive] @DECLENSION[strong]

// Strong Masculine (maðr - man)
<noun-masc-maðr-nom-sg> ::= "maðr" @GENDER[masculine] @NUMBER[singular] @CASE[nominative]
<noun-masc-maðr-acc-sg> ::= "mann" @GENDER[masculine] @NUMBER[singular] @CASE[accusative]
<noun-masc-maðr-dat-sg> ::= "manni" @GENDER[masculine] @NUMBER[singular] @CASE[dative]
<noun-masc-maðr-gen-sg> ::= "manns" @GENDER[masculine] @NUMBER[singular] @CASE[genitive]
<noun-masc-maðr-nom-pl> ::= "menn" @GENDER[masculine] @NUMBER[plural] @CASE[nominative]
<noun-masc-maðr-acc-pl> ::= "menn" @GENDER[masculine] @NUMBER[plural] @CASE[accusative]
<noun-masc-maðr-dat-pl> ::= "mönnum" @GENDER[masculine] @NUMBER[plural] @CASE[dative]
<noun-masc-maðr-gen-pl> ::= "manna" @GENDER[masculine] @NUMBER[plural] @CASE[genitive]

// Strong Feminine (gata - street)
<noun-fem-strong-nom-sg> ::= "gata" @GENDER[feminine] @NUMBER[singular] @CASE[nominative] @DECLENSION[strong]
<noun-fem-strong-acc-sg> ::= "götu" @GENDER[feminine] @NUMBER[singular] @CASE[accusative] @DECLENSION[strong]
<noun-fem-strong-dat-sg> ::= "götu" @GENDER[feminine] @NUMBER[singular] @CASE[dative] @DECLENSION[strong]
<noun-fem-strong-gen-sg> ::= "götu" @GENDER[feminine] @NUMBER[singular] @CASE[genitive] @DECLENSION[strong]
<noun-fem-strong-nom-pl> ::= "götur" @GENDER[feminine] @NUMBER[plural] @CASE[nominative] @DECLENSION[strong]
<noun-fem-strong-acc-pl> ::= "götur" @GENDER[feminine] @NUMBER[plural] @CASE[accusative] @DECLENSION[strong]
<noun-fem-strong-dat-pl> ::= "götum" @GENDER[feminine] @NUMBER[plural] @CASE[dative] @DECLENSION[strong]
<noun-fem-strong-gen-pl> ::= "gatna" @GENDER[feminine] @NUMBER[plural] @CASE[genitive] @DECLENSION[strong]

// Strong Neuter (barn - child)
<noun-neut-strong-nom-sg> ::= "barn" @GENDER[neuter] @NUMBER[singular] @CASE[nominative] @DECLENSION[strong]
<noun-neut-strong-acc-sg> ::= "barn" @GENDER[neuter] @NUMBER[singular] @CASE[accusative] @DECLENSION[strong]
<noun-neut-strong-dat-sg> ::= "barni" @GENDER[neuter] @NUMBER[singular] @CASE[dative] @DECLENSION[strong]
<noun-neut-strong-gen-sg> ::= "barns" @GENDER[neuter] @NUMBER[singular] @CASE[genitive] @DECLENSION[strong]
<noun-neut-strong-nom-pl> ::= "börn" @GENDER[neuter] @NUMBER[plural] @CASE[nominative] @DECLENSION[strong]
<noun-neut-strong-acc-pl> ::= "börn" @GENDER[neuter] @NUMBER[plural] @CASE[accusative] @DECLENSION[strong]
<noun-neut-strong-dat-pl> ::= "börnum" @GENDER[neuter] @NUMBER[plural] @CASE[dative] @DECLENSION[strong]
<noun-neut-strong-gen-pl> ::= "barna" @GENDER[neuter] @NUMBER[plural] @CASE[genitive] @DECLENSION[strong]

// Strong Neuter (hús - house)
<noun-neut-hús-nom-sg> ::= "hús" @GENDER[neuter] @NUMBER[singular] @CASE[nominative]
<noun-neut-hús-acc-sg> ::= "hús" @GENDER[neuter] @NUMBER[singular] @CASE[accusative]
<noun-neut-hús-dat-sg> ::= "húsi" @GENDER[neuter] @NUMBER[singular] @CASE[dative]
<noun-neut-hús-gen-sg> ::= "húss" @GENDER[neuter] @NUMBER[singular] @CASE[genitive]

<noun> ::= <noun-masc-strong-nom-sg> | <noun-masc-strong-acc-sg> | <noun-masc-strong-dat-sg> | <noun-masc-strong-gen-sg>
        | <noun-masc-strong-nom-pl> | <noun-masc-strong-acc-pl> | <noun-masc-strong-dat-pl> | <noun-masc-strong-gen-pl>
        | <noun-masc-maðr-nom-sg> | <noun-masc-maðr-acc-sg> | <noun-masc-maðr-dat-sg> | <noun-masc-maðr-gen-sg>
        | <noun-masc-maðr-nom-pl> | <noun-masc-maðr-acc-pl> | <noun-masc-maðr-dat-pl> | <noun-masc-maðr-gen-pl>
        | <noun-fem-strong-nom-sg> | <noun-fem-strong-acc-sg> | <noun-fem-strong-dat-sg> | <noun-fem-strong-gen-sg>
        | <noun-fem-strong-nom-pl> | <noun-fem-strong-acc-pl> | <noun-fem-strong-dat-pl> | <noun-fem-strong-gen-pl>
        | <noun-neut-strong-nom-sg> | <noun-neut-strong-acc-sg> | <noun-neut-strong-dat-sg> | <noun-neut-strong-gen-sg>
        | <noun-neut-strong-nom-pl> | <noun-neut-strong-acc-pl> | <noun-neut-strong-dat-pl> | <noun-neut-strong-gen-pl>
        | <noun-neut-hús-nom-sg> | <noun-neut-hús-acc-sg> | <noun-neut-hús-dat-sg> | <noun-neut-hús-gen-sg>

<proper-noun> ::= /[A-ZÁÐÉÍÓÚÝÞÆÖ][a-záðéíóúýþæö]*/

// ============================================================================
// PRONOUNS (including DUAL number!)
// ============================================================================

// Personal pronouns - 1st person singular
<pronoun-1sg-nom> ::= "ek" @NUMBER[singular] @PERSON[1] @CASE[nominative]
<pronoun-1sg-acc> ::= "mik" @NUMBER[singular] @PERSON[1] @CASE[accusative]
<pronoun-1sg-dat> ::= "mér" @NUMBER[singular] @PERSON[1] @CASE[dative]
<pronoun-1sg-gen> ::= "mín" @NUMBER[singular] @PERSON[1] @CASE[genitive]

// 2nd person singular
<pronoun-2sg-nom> ::= "þú" @NUMBER[singular] @PERSON[2] @CASE[nominative]
<pronoun-2sg-acc> ::= "þik" @NUMBER[singular] @PERSON[2] @CASE[accusative]
<pronoun-2sg-dat> ::= "þér" @NUMBER[singular] @PERSON[2] @CASE[dative]
<pronoun-2sg-gen> ::= "þín" @NUMBER[singular] @PERSON[2] @CASE[genitive]

// 1st person DUAL (we two)
<pronoun-1dual-nom> ::= "vit" @NUMBER[dual] @PERSON[1] @CASE[nominative]
<pronoun-1dual-acc> ::= "okkr" @NUMBER[dual] @PERSON[1] @CASE[accusative]
<pronoun-1dual-dat> ::= "okkr" @NUMBER[dual] @PERSON[1] @CASE[dative]
<pronoun-1dual-gen> ::= "okkar" @NUMBER[dual] @PERSON[1] @CASE[genitive]

// 2nd person DUAL (you two)
<pronoun-2dual-nom> ::= "þit" @NUMBER[dual] @PERSON[2] @CASE[nominative]
<pronoun-2dual-acc> ::= "ykkr" @NUMBER[dual] @PERSON[2] @CASE[accusative]
<pronoun-2dual-dat> ::= "ykkr" @NUMBER[dual] @PERSON[2] @CASE[dative]
<pronoun-2dual-gen> ::= "ykkar" @NUMBER[dual] @PERSON[2] @CASE[genitive]

// 1st person plural
<pronoun-1pl-nom> ::= "vér" @NUMBER[plural] @PERSON[1] @CASE[nominative]
<pronoun-1pl-acc> ::= "oss" @NUMBER[plural] @PERSON[1] @CASE[accusative]
<pronoun-1pl-dat> ::= "oss" @NUMBER[plural] @PERSON[1] @CASE[dative]
<pronoun-1pl-gen> ::= "vár" @NUMBER[plural] @PERSON[1] @CASE[genitive]

// 2nd person plural
<pronoun-2pl-nom> ::= "þér" @NUMBER[plural] @PERSON[2] @CASE[nominative]
<pronoun-2pl-acc> ::= "yðr" @NUMBER[plural] @PERSON[2] @CASE[accusative]
<pronoun-2pl-dat> ::= "yðr" @NUMBER[plural] @PERSON[2] @CASE[dative]
<pronoun-2pl-gen> ::= "yðar" @NUMBER[plural] @PERSON[2] @CASE[genitive]

// 3rd person masculine singular
<pronoun-3sg-masc-nom> ::= "hann" @NUMBER[singular] @PERSON[3] @GENDER[masculine] @CASE[nominative]
<pronoun-3sg-masc-acc> ::= "hann" @NUMBER[singular] @PERSON[3] @GENDER[masculine] @CASE[accusative]
<pronoun-3sg-masc-dat> ::= "honum" @NUMBER[singular] @PERSON[3] @GENDER[masculine] @CASE[dative]
<pronoun-3sg-masc-gen> ::= "hans" @NUMBER[singular] @PERSON[3] @GENDER[masculine] @CASE[genitive]

// 3rd person feminine singular
<pronoun-3sg-fem-nom> ::= "hon" @NUMBER[singular] @PERSON[3] @GENDER[feminine] @CASE[nominative]
<pronoun-3sg-fem-acc> ::= "hana" @NUMBER[singular] @PERSON[3] @GENDER[feminine] @CASE[accusative]
<pronoun-3sg-fem-dat> ::= "henni" @NUMBER[singular] @PERSON[3] @GENDER[feminine] @CASE[dative]
<pronoun-3sg-fem-gen> ::= "hennar" @NUMBER[singular] @PERSON[3] @GENDER[feminine] @CASE[genitive]

// 3rd person neuter singular
<pronoun-3sg-neut-nom> ::= "þat" @NUMBER[singular] @PERSON[3] @GENDER[neuter] @CASE[nominative]
<pronoun-3sg-neut-acc> ::= "þat" @NUMBER[singular] @PERSON[3] @GENDER[neuter] @CASE[accusative]
<pronoun-3sg-neut-dat> ::= "því" @NUMBER[singular] @PERSON[3] @GENDER[neuter] @CASE[dative]
<pronoun-3sg-neut-gen> ::= "þess" @NUMBER[singular] @PERSON[3] @GENDER[neuter] @CASE[genitive]

<pronoun> ::= <pronoun-1sg-nom> | <pronoun-1sg-acc> | <pronoun-1sg-dat> | <pronoun-1sg-gen>
           | <pronoun-2sg-nom> | <pronoun-2sg-acc> | <pronoun-2sg-dat> | <pronoun-2sg-gen>
           | <pronoun-1dual-nom> | <pronoun-1dual-acc> | <pronoun-1dual-dat> | <pronoun-1dual-gen>
           | <pronoun-2dual-nom> | <pronoun-2dual-acc> | <pronoun-2dual-dat> | <pronoun-2dual-gen>
           | <pronoun-1pl-nom> | <pronoun-1pl-acc> | <pronoun-1pl-dat> | <pronoun-1pl-gen>
           | <pronoun-2pl-nom> | <pronoun-2pl-acc> | <pronoun-2pl-dat> | <pronoun-2pl-gen>
           | <pronoun-3sg-masc-nom> | <pronoun-3sg-masc-acc> | <pronoun-3sg-masc-dat> | <pronoun-3sg-masc-gen>
           | <pronoun-3sg-fem-nom> | <pronoun-3sg-fem-acc> | <pronoun-3sg-fem-dat> | <pronoun-3sg-fem-gen>
           | <pronoun-3sg-neut-nom> | <pronoun-3sg-neut-acc> | <pronoun-3sg-neut-dat> | <pronoun-3sg-neut-gen>

// ============================================================================
// ADJECTIVES
// ============================================================================

<adjective> ::= "stórr" | "stórt" | "stór"  // big
             | "lítill" | "lítit" | "lítil"  // small
             | "góðr" | "gott" | "góð"  // good

// ============================================================================
// VERB SYSTEM (Strong and Weak Verbs, Seven Ablaut Classes)
// ============================================================================

<verb-phrase> ::= <verb> [ <adverb> ]*
               | <auxiliary-verb> <past-participle>

// Strong Verb Class I - bíta (to bite)
// Present sg: bít, bítr, bítr
// Present pl: bítum, bítið, bíta
// Past sg: beit, beitt, beit
// Past pl: bitum, bituð, bitu
// Past participle: bitinn

<strong-verb-1-present> ::= "bít" | "bítr" | "bítum" | "bítið" | "bíta" @TENSE[present] @VERB_CLASS[strong1]
<strong-verb-1-past-sg> ::= "beit" | "beitt" @TENSE[past] @VERB_CLASS[strong1]
<strong-verb-1-past-pl> ::= "bitum" | "bituð" | "bitu" @TENSE[past] @VERB_CLASS[strong1]
<strong-verb-1-participle> ::= "bitinn" @VERB_CLASS[strong1]

// Strong Verb Class II - bjóða (to offer)
<strong-verb-2-present> ::= "býð" | "býðr" | "bjóðum" | "bjóðið" | "bjóða" @TENSE[present] @VERB_CLASS[strong2]
<strong-verb-2-past-sg> ::= "bauð" | "bautt" @TENSE[past] @VERB_CLASS[strong2]
<strong-verb-2-past-pl> ::= "buðum" | "buðuð" | "buðu" @TENSE[past] @VERB_CLASS[strong2]

// Weak Verb Class I - kalla (to call)
<weak-verb-1-present> ::= "kalla" | "kallar" | "kallum" | "kallið" @TENSE[present] @VERB_CLASS[weak1]
<weak-verb-1-past> ::= "kallaða" | "kallaðir" | "kölluðum" @TENSE[past] @VERB_CLASS[weak1]

// Irregular: vera (to be)
<irregular-verb-vera-present-sg> ::= "em" | "est" | "es" | "er" @TENSE[present]
<irregular-verb-vera-present-pl> ::= "erum" | "eruð" | "eru" @TENSE[present]
<irregular-verb-vera-past-sg> ::= "var" | "vast" @TENSE[past]
<irregular-verb-vera-past-pl> ::= "vórum" | "vóruð" | "váru" @TENSE[past]

// Irregular: hafa (to have)
<irregular-verb-hafa-present> ::= "hefi" | "hefir" | "höfum" | "hafið" | "hafa" @TENSE[present]
<irregular-verb-hafa-past> ::= "hafða" | "hafðir" | "höfðum" | "höfðuð" | "höfðu" @TENSE[past]

<verb> ::= <strong-verb-1-present> | <strong-verb-1-past-sg> | <strong-verb-1-past-pl>
        | <strong-verb-2-present> | <strong-verb-2-past-sg> | <strong-verb-2-past-pl>
        | <weak-verb-1-present> | <weak-verb-1-past>
        | <irregular-verb-vera-present-sg> | <irregular-verb-vera-present-pl>
        | <irregular-verb-vera-past-sg> | <irregular-verb-vera-past-pl>
        | <irregular-verb-hafa-present> | <irregular-verb-hafa-past>

<auxiliary-verb> ::= "hefi" | "höfum"  // have (auxiliary)

<past-participle> ::= <verb-stem> "inn" | <verb-stem> "it"

<infinitive> ::= "at" <verb-stem> "a"

<imperative-verb> ::= <verb-stem> | <verb-stem> "ið"

<verb-stem> ::= /[a-záðéíóúýþæö]+/

// ============================================================================
// ADVERBS
// ============================================================================

<adverb> ::= <time-adverb> | <place-adverb>

<time-adverb> ::= "nú" | "þá" | "áðr" | "síðan" | "aldr

ei"
               | "í dag" | "í gær"

<place-adverb> ::= "hér" | "þar" | "heima" | "úti" | "inni"

// ============================================================================
// PREPOSITIONS
// ============================================================================

<preposition> ::= "í" | "á" | "til" | "frá" | "með" | "af" | "fyrir"
               | "um" | "yfir" | "undir" | "við" | "hjá" | "eftir"

<prepositional-phrase> ::= <preposition> <noun-phrase>

// ============================================================================
// CONJUNCTIONS
// ============================================================================

<coordinating-conjunction> ::= "ok" | "en" | "eða" | "né"

<subordinating-conjunction> ::= "at" | "ef" | "þá er" | "þar sem"

// ============================================================================
// QUESTION WORDS
// ============================================================================

<question-word> ::= "hverr" | "hvat" | "hvar" | "hvenær" | "hví" | "hvadan" | "hversu"

// ============================================================================
// EXPANDED SENTENCE STRUCTURES
// ============================================================================

/* Optional whitespace */
<opt-whitespace> ::= /[ \t\n\r]+/ | ""
<whitespace> ::= /[ \t\n\r]+/

/* Punctuation */
<punctuation> ::= "." | "!" | "?" | "," | ";" | ":"

/* Enhanced sentence structures */
<sentence> ::= <main-clause>
            | <subordinate-clause-standalone>
            | <compound-sentence>
            | <complex-sentence>

<main-clause> ::= <declarative-clause>
               | <interrogative-clause>
               | <imperative-clause>

<declarative-clause> ::= <subject> <opt-whitespace> <finite-verb> <opt-whitespace> <middle-field>? <opt-whitespace> <verb-complement>? <punctuation>?

<subject> ::= <noun-phrase>
           | <pronoun-nominative>

<middle-field> ::= <negation>? <opt-whitespace> <adverb>? <opt-whitespace> <object>?

<negation> ::= <standard-negation> | <branch-negation>

<standard-negation> ::= "eigi" | "ekki" | "aldregi"

<branch-negation> ::= @BRANCH[west_norse] ( "eigi" | "ekki" )
                   | @BRANCH[east_norse] ( "ęngi" | "ękki" )

<interrogative-clause> ::= <yes-no-question>
                        | <wh-question>

<yes-no-question> ::= <finite-verb> <opt-whitespace> <subject> <opt-whitespace> <middle-field>? "?"

<wh-question> ::= <question-word> <opt-whitespace> <finite-verb> <opt-whitespace> <subject>? <opt-whitespace> <middle-field>? "?"

<imperative-clause> ::= <verb-imperative> <opt-whitespace> <object>? ( "!" | "." )?

<subordinate-clause-standalone> ::= <subordinate-clause>

<subordinate-clause> ::= <subordinating-conjunction> <opt-whitespace> <subordinate-content>

<subordinate-content> ::= <subject> <opt-whitespace> <verb-phrase>

<compound-sentence> ::= <main-clause> <opt-whitespace> <coordinating-conjunction> <opt-whitespace> <main-clause>

<complex-sentence> ::= <main-clause> <opt-whitespace> <subordinate-clause>
                    | <subordinate-clause> <opt-whitespace> "," <opt-whitespace> <main-clause>

// ============================================================================
// PRONOUNS (complete paradigm with 4 cases)
// ============================================================================

/* Personal pronouns - nominative case */
<pronoun-nominative> ::= <personal-pronoun-nominative>
                      | <demonstrative-pronoun>

<personal-pronoun-nominative> ::= @CASE[nominative] ( <standard-nominative> | <branch-nominative> )

<standard-nominative> ::= "ek" | "þú" | "hann" | "hon" | "þat" | "vér" | "þér" | "þeir" | "þær" | "þau"

<branch-nominative> ::= @BRANCH[west_norse] ( "ek" | "þú" | "hann" | "hon" | "þat" | "vér" | "þér" | "þeir" | "þær" | "þau" )
                     | @BRANCH[east_norse] ( "iak" | "þu" | "han" | "hon" | "þat" | "vir" | "þer" | "þeir" | "þær" | "þau" )

/* Personal pronouns - accusative case */
<personal-pronoun-accusative> ::= @CASE[accusative] ( "mik" | "þik" | "hann" | "hana" | "þat" | "okkr" | "ykkr" | "þá" | "þær" | "þau" )

/* Personal pronouns - dative case */
<personal-pronoun-dative> ::= @CASE[dative] ( "mér" | "þér" | "honum" | "henni" | "því" | "okkr" | "ykkr" | "þeim" )

/* Personal pronouns - genitive case */
<personal-pronoun-genitive> ::= @CASE[genitive] ( "mín" | "þín" | "hans" | "hennar" | "þess" | "okkar" | "ykkar" | "þeirra" )

/* Demonstrative pronouns */
<demonstrative-pronoun> ::= @GENDER[masculine] @NUMBER[singular] ( "þessi" | "sá" | "hinn" )
                         | @GENDER[feminine] @NUMBER[singular] ( "þessi" | "sú" | "hin" )
                         | @GENDER[neuter] @NUMBER[singular] ( "þetta" | "þat" | "hit" )
                         | @NUMBER[plural] ( "þessir" | "þessar" | "þessi" | "þeir" | "þær" | "þau" )

/* Reflexive pronouns */
<reflexive-pronoun> ::= "sik" | "sér" | "sín"

/* Possessive pronouns */
<possessive-pronoun> ::= "minn" | "þinn" | "sinn" | "várr" | "yðvarr" | "hans" | "hennar" | "þeirra"

// ============================================================================
// EXPANDED VERB SYSTEM (Strong and Weak Classes)
// ============================================================================

<verb-phrase> ::= <simple-verb-phrase>
               | <compound-verb-phrase>

<simple-verb-phrase> ::= <finite-verb> ( <opt-whitespace> <adverb> )?

<finite-verb> ::= <verb-present>
               | <verb-past>

<compound-verb-phrase> ::= <auxiliary-verb> <opt-whitespace> <verb-complement>

<verb-complement> ::= <infinitive-phrase>
                   | <past-participle>

<infinitive-phrase> ::= ( "at" <opt-whitespace> )? <verb-infinitive>

/* Main verb with tense */
<main-verb> ::= <verb-present>
             | <verb-past>
             | <verb-perfect>

/* Present tense */
<verb-present> ::= @TENSE[present] ( <regular-verb-present> | <irregular-verb-present> | <branch-verb-present> )

<regular-verb-present> ::= <verb-stem> "r" | <verb-stem> "ir" | <verb-stem> "ar"

<verb-stem> ::= /[a-záðéíóúýþæö]+/

/* Irregular verbs in present tense */
<irregular-verb-present> ::= @IRREGULAR ( <irregular-vera> | <irregular-hafa> | <irregular-verða> | <irregular-fara> | <irregular-koma> )

<irregular-vera> ::= "em" | "est" | "er" | "erum" | "eruð" | "eru"  // to be

<irregular-hafa> ::= "hefi" | "hefir" | "hefir" | "höfum" | "hafið" | "hafa"  // to have

<irregular-verða> ::= "verð" | "verðr" | "verðr" | "verðum" | "verðið" | "verða"  // to become

<irregular-fara> ::= "fer" | "ferr" | "ferr" | "förum" | "farið" | "fara"  // to go

<irregular-koma> ::= "kem" | "kemr" | "kemr" | "komum" | "komið" | "koma"  // to come

/* Branch-specific verb forms */
<branch-verb-present> ::= @BRANCH[west_norse] <verb-stem> "r"
                       | @BRANCH[east_norse] <verb-stem> "r"

/* Past tense - strong and weak verbs */
<verb-past> ::= @TENSE[past] ( <strong-verb-past> | <weak-verb-past> | <irregular-verb-past> )

/* Strong verb classes (ablaut patterns) */
<strong-verb-past> ::= <strong-class-1>
                    | <strong-class-2>
                    | <strong-class-3>
                    | <strong-class-4>
                    | <strong-class-5>
                    | <strong-class-6>
                    | <strong-class-7>

<strong-class-1> ::= @VERB_CLASS[1] <verb-stem> // í → ei → i (bíta → beit → bitu)

<strong-class-2> ::= @VERB_CLASS[2] <verb-stem> // jú → au → u (bjóða → bauð → buðu)

<strong-class-3> ::= @VERB_CLASS[3] <verb-stem> // e → a → u (binda → batt → bundu)

<strong-class-4> ::= @VERB_CLASS[4] <verb-stem> // e → a → á (bera → bar → báru)

<strong-class-5> ::= @VERB_CLASS[5] <verb-stem> // e → a → á (gefa → gaf → gáfu)

<strong-class-6> ::= @VERB_CLASS[6] <verb-stem> // a → ó → ó (fara → fór → fóru)

<strong-class-7> ::= @VERB_CLASS[7] <verb-stem> // reduplicating (halda → helt → helt)

/* Weak verb classes */
<weak-verb-past> ::= <weak-class-1>
                  | <weak-class-2>
                  | <weak-class-3>

<weak-class-1> ::= @VERB_CLASS[weak-1] <verb-stem> ( "ða" | "da" | "ta" )

<weak-class-2> ::= @VERB_CLASS[weak-2] <verb-stem> "aða"

<weak-class-3> ::= @VERB_CLASS[weak-3] <verb-stem> "ði"

/* Irregular past tense verbs */
<irregular-verb-past> ::= @IRREGULAR ( <irregular-vera-past> | <irregular-hafa-past> | <irregular-verða-past> | <irregular-fara-past> | <irregular-koma-past> )

<irregular-vera-past> ::= "var" | "vast" | "var" | "várum" | "váruð" | "váru"

<irregular-hafa-past> ::= "hafða" | "hafðir" | "hafði" | "höfðum" | "höfðuð" | "höfðu"

<irregular-verða-past> ::= "varð" | "varðst" | "varð" | "urðum" | "urðuð" | "urðu"

<irregular-fara-past> ::= "fór" | "fórst" | "fór" | "fórum" | "fóruð" | "fóru"

<irregular-koma-past> ::= "kom" | "komst" | "kom" | "komum" | "komuð" | "komu"

/* Perfect tense - hafa/vera + past participle */
<verb-perfect> ::= @TENSE[perfect] <perfect-auxiliary> <opt-whitespace> <past-participle>

<perfect-auxiliary> ::= "hefi" | "hefir" | "er" | "eru"

<past-participle> ::= <verb-stem> ( "inn" | "it" | "ið" | "t" )

/* Auxiliary verbs */
<auxiliary-verb> ::= "hefi" | "hefir" | "er" | "munu" | "skulu"

<verb-infinitive> ::= <verb-stem> "a"

/* Imperative */
<verb-imperative> ::= <imperative-verb>

<imperative-verb> ::= <verb-stem> | <irregular-imperative>

<irregular-imperative> ::= "ver" | "haf" | "far" | "kom" | "tak" | "gef"

// ============================================================================
// ADJECTIVES (strong and weak declensions)
// ============================================================================

<adjective-phrase> ::= <degree-modifier>? <opt-whitespace> <adjective>

<degree-modifier> ::= "mjök" | "harla" | "svá"

<adjective> ::= <adjective-positive>
             | <adjective-comparative>
             | <adjective-superlative>

/* Positive degree with strong/weak declension */
<adjective-positive> ::= <adjective-strong> | <adjective-weak>

<adjective-strong> ::= @DECLENSION[strong] ( "góðr" | "mikill" | "lítill" | "stórr" | "langr" | "ungr" | "gamall" )

<adjective-weak> ::= @DECLENSION[weak] ( "góði" | "góða" | "mikli" | "mikla" | "litli" | "litla" )

/* Comparative degree */
<adjective-comparative> ::= @DEGREE[comparative] ( "betri" | "verri" | "meiri" | "minni" | "stœrri" | "lengri" | "eldri" | "yngri" )

/* Superlative degree */
<adjective-superlative> ::= @DEGREE[superlative] ( "beztr" | "verstr" | "mestr" | "minstr" | "stœrstr" | "lengstr" | "elztr" | "yngstr" )

// ============================================================================
// ADVERBS
// ============================================================================

<adverb> ::= <time-adverb>
         | <place-adverb>
         | <manner-adverb>
         | <degree-adverb>

<time-adverb> ::= "nú" | "þá" | "áðr" | "síðan" | "jafnan" | "aldregi" | "opt" | "sjaldan" | "brátt" | "lengi"

<place-adverb> ::= "hér" | "þar" | "hvar" | "heima" | "úti" | "inni" | "uppi" | "niðri" | "fram" | "aptr" | "norðr" | "suðr" | "austr" | "vestr"

<manner-adverb> ::= "vel" | "illa" | "skjótt" | "hægt" | "rétt" | "rangt"

<degree-adverb> ::= "mjök" | "svá" | "þvílíkt" | "harla" | "afar"

// ============================================================================
// PREPOSITIONS (with case government)
// ============================================================================

<preposition> ::= <preposition-acc>
               | <preposition-dat>
               | <preposition-gen>

<preposition-acc> ::= "um" | "gegnum" | "fyrir" @GOVERNS_CASE[accusative]

<preposition-dat> ::= "á" | "í" | "frá" | "með" | "at" | "af" | "til" | "hjá" | "úr" | "við" | "undir" | "yfir" @GOVERNS_CASE[dative]

<preposition-gen> ::= "til" | "frá" | "án" | "vegna" | "innan" | "utan" @GOVERNS_CASE[genitive]

<prepositional-phrase> ::= <preposition> <opt-whitespace> <noun-phrase>

// ============================================================================
// CONJUNCTIONS
// ============================================================================

<coordinating-conjunction> ::= "ok" | "eða" | "en" | "né" | "þó"

<subordinating-conjunction> ::= "at" | "ef" | "þá er" | "þar er" | "vegna þess at" | "þó at" | "áðr en" | "eptir at" | "meðan"

// ============================================================================
// BRANCH-SPECIFIC VARIATIONS
// ============================================================================

<branch-vocabulary> ::= <west-norse-forms>
                     | <east-norse-forms>

<west-norse-forms> ::= @BRANCH[west_norse] ( <west-pronouns> | <west-verbs> | <west-nouns> )

<west-pronouns> ::= @BRANCH[west_norse] ( "ek" | "þú" | "vér" | "þér" | "þeir" )

<west-verbs> ::= @BRANCH[west_norse] ( "em" | "hefir" | "verðr" | "ferr" )

<west-nouns> ::= @BRANCH[west_norse] ( "maðr" | "konungr" | "dróttinn" )

<east-norse-forms> ::= @BRANCH[east_norse] ( <east-pronouns> | <east-verbs> | <east-nouns> )

<east-pronouns> ::= @BRANCH[east_norse] ( "iak" | "þu" | "vir" | "þer" | "þeir" )

<east-verbs> ::= @BRANCH[east_norse] ( "ęm" | "hęvir" | "vęrþr" | "fęrr" )

<east-nouns> ::= @BRANCH[east_norse] ( "maþr" | "konungr" | "drottin" )

// ============================================================================
// PROPER NOUNS
// ============================================================================

<proper-noun> ::= <norse-name>
               | <place-name>

<norse-name> ::= /[A-ZÁÐÉÍÓÚÝÞÆÖ][a-záðéíóúýþæö]+/

<place-name> ::= "Norðrvegr" | "Ísland" | "Danmörk" | "Svíþjóð" | "Grœnland" | "Færeyjar" | "Orkneyjar" | "Hjaltland"

// ============================================================================
// NUMERALS
// ============================================================================

<numeral> ::= <cardinal-number> | <ordinal-number>

<cardinal-number> ::= "einn" | "tveir" | "þrír" | "fjórir" | "fimm" | "sex" | "sjau" | "átta" | "níu" | "tíu" | "ellifu" | "tólf" | "þrettán"

<ordinal-number> ::= "fyrstr" | "annarr" | "þriði" | "fjórði" | "fimmti" | "sétti" | "sjöundi" | "áttundi" | "níundi" | "tíundi"

<object> ::= <noun-phrase>
          | <personal-pronoun-accusative>

<adverbial> ::= <adverb>
             | <prepositional-phrase>

// ============================================================================
// DUAL NUMBER FORMS (special to Old Norse)
// ============================================================================

/* Dual number pronouns (for "we two", "you two", "they two") */
<dual-pronoun-nominative> ::= @NUMBER[dual] ( "vit" | "þit" )

<dual-pronoun-accusative> ::= @NUMBER[dual] ( "okkr" | "ykkr" )

<dual-pronoun-dative> ::= @NUMBER[dual] ( "okkr" | "ykkr" )

<dual-pronoun-genitive> ::= @NUMBER[dual] ( "okkar" | "ykkar" )

/* Dual number verb forms */
<dual-verb-present> ::= @NUMBER[dual] ( <verb-stem> "um" ) // for "we two", "you two"

<dual-verb-past> ::= @NUMBER[dual] ( <verb-stem> "um" ) // for "we two", "you two"

// ============================================================================
// ADDITIONAL STRONG VERB EXAMPLES
// ============================================================================

/* Strong verb class 1 (í → ei → i) */
<strong-class-1-examples> ::= @VERB_CLASS[1] ( "bíta" | "beit" | "bitu" | "bitinn" )  // bite
                           | @VERB_CLASS[1] ( "ríða" | "reiðr" | "riðu" | "riðinn" )  // ride
                           | @VERB_CLASS[1] ( "skína" | "skein" | "skinu" | "skininn" )  // shine

/* Strong verb class 2 (jú → au → u) */
<strong-class-2-examples> ::= @VERB_CLASS[2] ( "bjóða" | "bauð" | "buðu" | "boðinn" )  // offer
                           | @VERB_CLASS[2] ( "ljúka" | "lauk" | "luku" | "lokinn" )  // close
                           | @VERB_CLASS[2] ( "brjóta" | "braut" | "brutu" | "brotinn" )  // break

/* Strong verb class 3 (e → a → u) */
<strong-class-3-examples> ::= @VERB_CLASS[3] ( "binda" | "batt" | "bundu" | "bundinn" )  // bind
                           | @VERB_CLASS[3] ( "finna" | "fann" | "funnu" | "fundinn" )  // find
                           | @VERB_CLASS[3] ( "vinna" | "vann" | "unnu" | "unninn" )  // win

/* Strong verb class 4 (e → a → á) */
<strong-class-4-examples> ::= @VERB_CLASS[4] ( "bera" | "bar" | "báru" | "borinn" )  // bear/carry
                           | @VERB_CLASS[4] ( "stela" | "stal" | "stálu" | "stolinn" )  // steal
                           | @VERB_CLASS[4] ( "koma" | "kom" | "kómu" | "kominn" )  // come

/* Strong verb class 5 (e → a → á) */
<strong-class-5-examples> ::= @VERB_CLASS[5] ( "gefa" | "gaf" | "gáfu" | "gefinn" )  // give
                           | @VERB_CLASS[5] ( "eta" | "át" | "átu" | "etinn" )  // eat
                           | @VERB_CLASS[5] ( "sjá" | "sá" | "sáu" | "sénn" )  // see

/* Strong verb class 6 (a → ó → ó) */
<strong-class-6-examples> ::= @VERB_CLASS[6] ( "fara" | "fór" | "fóru" | "farinn" )  // go
                           | @VERB_CLASS[6] ( "taka" | "tók" | "tóku" | "tekinn" )  // take
                           | @VERB_CLASS[6] ( "draga" | "dró" | "drógu" | "dreginn" )  // draw/pull

/* Strong verb class 7 (reduplicating) */
<strong-class-7-examples> ::= @VERB_CLASS[7] ( "halda" | "helt" | "heldu" | "haldinn" )  // hold
                           | @VERB_CLASS[7] ( "ganga" | "gekk" | "gengu" | "genginn" )  // walk
                           | @VERB_CLASS[7] ( "falla" | "fell" | "fellu" | "fallinn" )  // fall

// ============================================================================
// WEAK NOUN DECLENSIONS
// ============================================================================

/* Weak masculine nouns (like "goði" - chieftain) */
<noun-masc-weak-nom-sg> ::= "goði" @GENDER[masculine] @NUMBER[singular] @CASE[nominative] @DECLENSION[weak]
<noun-masc-weak-acc-sg> ::= "goða" @GENDER[masculine] @NUMBER[singular] @CASE[accusative] @DECLENSION[weak]
<noun-masc-weak-dat-sg> ::= "goða" @GENDER[masculine] @NUMBER[singular] @CASE[dative] @DECLENSION[weak]
<noun-masc-weak-gen-sg> ::= "goða" @GENDER[masculine] @NUMBER[singular] @CASE[genitive] @DECLENSION[weak]
<noun-masc-weak-nom-pl> ::= "goðar" @GENDER[masculine] @NUMBER[plural] @CASE[nominative] @DECLENSION[weak]
<noun-masc-weak-acc-pl> ::= "goða" @GENDER[masculine] @NUMBER[plural] @CASE[accusative] @DECLENSION[weak]
<noun-masc-weak-dat-pl> ::= "goðum" @GENDER[masculine] @NUMBER[plural] @CASE[dative] @DECLENSION[weak]
<noun-masc-weak-gen-pl> ::= "goða" @GENDER[masculine] @NUMBER[plural] @CASE[genitive] @DECLENSION[weak]

/* Weak feminine nouns (like "tunga" - tongue/language) */
<noun-fem-weak-nom-sg> ::= "tunga" @GENDER[feminine] @NUMBER[singular] @CASE[nominative] @DECLENSION[weak]
<noun-fem-weak-acc-sg> ::= "tungu" @GENDER[feminine] @NUMBER[singular] @CASE[accusative] @DECLENSION[weak]
<noun-fem-weak-dat-sg> ::= "tungu" @GENDER[feminine] @NUMBER[singular] @CASE[dative] @DECLENSION[weak]
<noun-fem-weak-gen-sg> ::= "tungu" @GENDER[feminine] @NUMBER[singular] @CASE[genitive] @DECLENSION[weak]
<noun-fem-weak-nom-pl> ::= "tungur" @GENDER[feminine] @NUMBER[plural] @CASE[nominative] @DECLENSION[weak]
<noun-fem-weak-acc-pl> ::= "tungur" @GENDER[feminine] @NUMBER[plural] @CASE[accusative] @DECLENSION[weak]
<noun-fem-weak-dat-pl> ::= "tungum" @GENDER[feminine] @NUMBER[plural] @CASE[dative] @DECLENSION[weak]
<noun-fem-weak-gen-pl> ::= "tungna" @GENDER[feminine] @NUMBER[plural] @CASE[genitive] @DECLENSION[weak]

/* Weak neuter nouns (like "hjarta" - heart) */
<noun-neut-weak-nom-sg> ::= "hjarta" @GENDER[neuter] @NUMBER[singular] @CASE[nominative] @DECLENSION[weak]
<noun-neut-weak-acc-sg> ::= "hjarta" @GENDER[neuter] @NUMBER[singular] @CASE[accusative] @DECLENSION[weak]
<noun-neut-weak-dat-sg> ::= "hjarta" @GENDER[neuter] @NUMBER[singular] @CASE[dative] @DECLENSION[weak]
<noun-neut-weak-gen-sg> ::= "hjarta" @GENDER[neuter] @NUMBER[singular] @CASE[genitive] @DECLENSION[weak]
<noun-neut-weak-nom-pl> ::= "hjörtu" @GENDER[neuter] @NUMBER[plural] @CASE[nominative] @DECLENSION[weak]
<noun-neut-weak-acc-pl> ::= "hjörtu" @GENDER[neuter] @NUMBER[plural] @CASE[accusative] @DECLENSION[weak]
<noun-neut-weak-dat-pl> ::= "hjörtum" @GENDER[neuter] @NUMBER[plural] @CASE[dative] @DECLENSION[weak]
<noun-neut-weak-gen-pl> ::= "hjartna" @GENDER[neuter] @NUMBER[plural] @CASE[genitive] @DECLENSION[weak]

// V2 WORD ORDER RULE (Verb-Second)
// Old Norse follows V2 word order in main clauses

// DUAL NUMBER preserved in Old Norse
// Special grammatical number for "two of something"

// ============================================================================
// DISCOURSE MARKERS
// ============================================================================

<discourse-marker> ::= <temporal-discourse> | <causal-discourse> | <contrastive-discourse>
                    | <additive-discourse> | <conclusive-discourse>

<temporal-discourse> ::= "fyrst" | "síðan" | "þá" | "næst" | "loks"
                      | "í fyrstu" | "síðarr" | "áðr" | "meðan"

<causal-discourse> ::= "því at" | "fyrir því at" | "af því at" | "þar sem"

<contrastive-discourse> ::= "en" | "þó" | "þó at" | "þrátt fyrir"

<additive-discourse> ::= "ok" | "enn" | "jafnframt"

<conclusive-discourse> ::= "þannig" | "því" | "svo"

// ============================================================================
// HISTORICAL DIALECTAL VARIATIONS
// ============================================================================

@DIALECT[west-norse]      /* West Norse - Iceland, Norway, Faroe Islands */
@DIALECT[east-norse]      /* East Norse - Sweden, Denmark */
@DIALECT[icelandic]       /* Old Icelandic */
@DIALECT[norwegian]       /* Old Norwegian */
@DIALECT[swedish]         /* Old Swedish */
@DIALECT[danish]          /* Old Danish */
@DIALECT[gotlandic]       /* Old Gotlandic */

<dialectal-variation> ::= <west-norse-form> | <east-norse-form>

<west-norse-form> ::= @DIALECT[west-norse] <noun-phrase> | @DIALECT[west-norse] <verb-phrase>

<east-norse-form> ::= @DIALECT[east-norse] <noun-phrase> | @DIALECT[east-norse] <verb-phrase>

// ============================================================================
// EXTENDED VERB CONSTRUCTIONS
// ============================================================================

<periphrastic-construction> ::= <progressive> | <recent-past> | <future-construction>

<progressive> ::= "vera" <opt-whitespace> "at" <opt-whitespace> <infinitive>

<recent-past> ::= "hafa" <opt-whitespace> <past-participle>

<future-construction> ::= "munu" <opt-whitespace> <infinitive>
                       | "skulu" <opt-whitespace> <infinitive>

<causative-construction> ::= "láta" <opt-whitespace> <noun-phrase> <opt-whitespace> <infinitive>

<permissive-construction> ::= "leyfa" <opt-whitespace> <noun-phrase> <opt-whitespace> "at"
                           <opt-whitespace> <infinitive>

// ============================================================================
// POETIC STRUCTURES
// ============================================================================

<poetic-structure> ::= <fornyrðislag> | <ljóðaháttr> | <dróttkvætt> | <hrynhent>

<fornyrðislag> ::= <line-with-four-beats> <opt-whitespace> <line-with-four-beats>
                /* Old Norse epic meter */

<ljóðaháttr> ::= <line-with-four-beats> <opt-whitespace> <line-with-three-beats>
              /* Eddic meter for wisdom poetry */

<dróttkvætt> ::= <line-with-internal-rhyme> <opt-whitespace> <line-with-internal-rhyme>
              /* Court poetry meter with complex patterns */

<hrynhent> ::= <line-with-eight-syllables>
            /* Later skaldic meter */

<line-with-four-beats> ::= <stressed-syllable> <opt-whitespace> <unstressed-syllable>
                        <opt-whitespace> <stressed-syllable> <opt-whitespace> <unstressed-syllable>
                        <opt-whitespace> <stressed-syllable> <opt-whitespace> <unstressed-syllable>
                        <opt-whitespace> <stressed-syllable> <opt-whitespace> <unstressed-syllable>

<line-with-three-beats> ::= <stressed-syllable> <opt-whitespace> <unstressed-syllable>
                         <opt-whitespace> <stressed-syllable> <opt-whitespace> <unstressed-syllable>
                         <opt-whitespace> <stressed-syllable>

<line-with-internal-rhyme> ::= <syllable-with-alliteration> <opt-whitespace> <syllable-with-rhyme>

<line-with-eight-syllables> ::= <syllable> <opt-whitespace> <syllable> <opt-whitespace> <syllable>
                             <opt-whitespace> <syllable> <opt-whitespace> <syllable> <opt-whitespace>
                             <syllable> <opt-whitespace> <syllable> <opt-whitespace> <syllable>

<stressed-syllable> ::= /[A-ZÁÐÉÍÓÚÝÞÆÖ][a-záðéíóúýþæö]*/

<unstressed-syllable> ::= /[a-záðéíóúýþæö]+/

<syllable> ::= /[a-záðéíóúýþæö]+/

<syllable-with-alliteration> ::= <syllable>

<syllable-with-rhyme> ::= <syllable>

// ============================================================================
// KENNINGS AND HEITI
// ============================================================================

<kenning> ::= <simple-kenning> | <compound-kenning> | <extended-kenning>

<simple-kenning> ::= <base-word> <opt-whitespace> <determinant>
                  /* Two-part metaphorical compound */

<compound-kenning> ::= <kenning> <opt-whitespace> <determinant>
                    /* Kenning based on another kenning */

<extended-kenning> ::= <kenning> <opt-whitespace> <kenning>
                    /* Multiple-part complex kenning */

<heiti> ::= <poetic-synonym>
         /* Poetic word for common concept */

<poetic-synonym> ::= "marr" | "jór" /* horse */
                  | "brandr" | "mækir" /* sword */
                  | "segl" | "kjóll" /* ship */
                  | "valr" | "gramr" /* king */

<base-word> ::= <noun-stem>

<determinant> ::= <genitive-noun>

// ============================================================================
// RUNIC ALPHABET
// ============================================================================

<runic-text> ::= <younger-futhark> | <elder-futhark>

<younger-futhark> ::= /[ᚠᚢᚦᚬᚱᚴᚼᚾᚴᚦᛋᛏᛒᛘᛚᛦ]+/
                   /* 16-character runic alphabet used in Viking Age */

<elder-futhark> ::= /[ᚠᚢᚦᚨᚱᚲᚷᚹᚺᚾᛁᛃᛇᛈᛉᛊᛏᛒᛖᛗᛚᛜᛞᛟ]+/
                 /* 24-character runic alphabet used before Viking Age */

// ============================================================================
// IDIOMATIC EXPRESSIONS
// ============================================================================

<idiomatic-expression> ::= "at fara víkinga" /* to go viking */
                        | "at ganga til holms" /* to fight a duel */
                        | "at bera vápn" /* to bear arms */
                        | "at sitja í hásæti" /* to sit in the high seat */
                        | "at drekka minni" /* to drink a toast */
                        | "at gera blót" /* to make sacrifice */
                        | "at segja sögu" /* to tell a saga */
                        | "at fara á þing" /* to go to assembly */

// ============================================================================
// TEMPORAL EXPRESSIONS EXTENDED
// ============================================================================

<extended-temporal> ::= <time-of-day> | <season-name> | <month-name> | <relative-time>

<time-of-day> ::= "morgunn" | "dagr" | "aptan" | "nótt" | "miðnætti"

<season-name> ::= "vár" | "sumar" | "haust" | "vetr"

<month-name> ::= "þorri" | "gói" | "einmánuðr" | "harpa" | "skerpla" | "sólmánuðr"
              | "heyannir" | "tvímánuðr" | "haustmánuðr" | "gormánuðr" | "ýlir" | "mörsugr"

<relative-time> ::= "í dag" | "í gær" | "á morgun" | "í nótt" | "nú" | "þá" | "fyrr"

// ============================================================================
// CONDITIONAL SENTENCES
// ============================================================================

<extended-conditional> ::= <real-conditional> | <hypothetical-conditional>
                        | <contrary-to-fact-conditional>

<real-conditional> ::= "ef" <opt-whitespace> <present-tense-clause> <opt-whitespace> ","
                     <opt-whitespace> <present-or-future-clause>

<hypothetical-conditional> ::= "ef" <opt-whitespace> <subjunctive-clause> <opt-whitespace> ","
                            <opt-whitespace> <conditional-clause>

<contrary-to-fact-conditional> ::= "ef" <opt-whitespace> <past-subjunctive-clause>
                                 <opt-whitespace> "," <opt-whitespace> <conditional-perfect-clause>

// ============================================================================
// CASE SYSTEM EXTENDED
// ============================================================================

<six-case-system> ::= <nominative-case> | <accusative-case> | <dative-case>
                   | <genitive-case> | <vocative-case> | <instrumental-case>

<instrumental-case> ::= <noun-stem> <opt-whitespace> <instrumental-ending>
                     /* Used with certain prepositions, rare in Old Norse */

<instrumental-ending> ::= "i" | "u"

<vocative-case> ::= <noun-stem> <opt-whitespace> <vocative-ending>
                 /* Used for direct address */

<vocative-ending> ::= "" | "r"

// ============================================================================
// DUAL NUMBER FORMS
// ============================================================================

<dual-number-form> ::= <dual-pronoun> | <dual-verb-form>

<dual-pronoun> ::= "vit" | "þit" /* we two, you two */
                | "okkr" | "ykkr" /* us two, you two (accusative/dative) */
                | "okkar" | "ykkar" /* of us two, of you two (genitive) */

<dual-verb-form> ::= <verb-stem> <opt-whitespace> <dual-ending>

<dual-ending> ::= "u" | "ut"

// ============================================================================
// STRONG VERB CLASSES EXTENDED
// ============================================================================

<strong-verb-class-1> ::= "bíta" | "ríða" | "skína" /* i-grade ablaut */

<strong-verb-class-2> ::= "bjóða" | "ljúka" | "skjóta" /* u-grade ablaut */

<strong-verb-class-3> ::= "binda" | "drekka" | "finna" /* nasal/liquid + consonant */

<strong-verb-class-4> ::= "bera" | "koma" | "stela" /* single resonant */

<strong-verb-class-5> ::= "gefa" | "lesa" | "sitja" /* single consonant */

<strong-verb-class-6> ::= "fara" | "taka" | "vaxa" /* a-grade ablaut */

<strong-verb-class-7> ::= "heita" | "láta" | "ráða" /* reduplicating verbs */

// ============================================================================
// WEAK VERB CLASSES EXTENDED
// ============================================================================

<weak-verb-class-1> ::= "kalla" | "telja" | "dœma" /* -a stems */

<weak-verb-class-2> ::= "lifa" | "kasta" | "vaka" /* -i/ō stems */

<weak-verb-class-3> ::= "hafa" | "segja" | "þiggja" /* -j stems */

<weak-verb-class-4> ::= "vakna" | "dvǫlna" /* -na inchoative verbs */

// ============================================================================
// PRETERITE-PRESENT VERBS
// ============================================================================

<preterite-present-verb> ::= "kunna" | "mega" | "munu" | "skulu" | "vilja"
                          | "vita" | "eiga" | "unna" | "þurfa" | "knýja"

// ============================================================================
// PARTICIPLES EXTENDED
// ============================================================================

<present-participle> ::= <verb-stem> <opt-whitespace> "andi" | <verb-stem> <opt-whitespace> "endi"

<past-participle> ::= <verb-stem> <opt-whitespace> <past-participle-ending>

<past-participle-ending> ::= "inn" | "it" | "num" | "nir" /* strong verbs */
                           | "ðr" | "t" | "þr" /* weak verbs */

// ============================================================================
// PASSIVE VOICE EXTENDED
// ============================================================================

<middle-voice> ::= <verb-stem> <opt-whitespace> "sk" | <verb-stem> <opt-whitespace> "st"
                /* Mediopassive voice marker */

<periphrastic-passive> ::= "vera" <opt-whitespace> <past-participle>

// ============================================================================
// NEGATION PATTERNS
// ============================================================================

<extended-negation> ::= "eigi" | "ekki" | "né" | "engi" | "einn-hverr"

// ============================================================================
// QUESTION FORMATION
// ============================================================================

<extended-question> ::= <yes-no-question> | <wh-question> | <rhetorical-question>

<wh-question> ::= <question-word-extended> <opt-whitespace> <verb-phrase>

<question-word-extended> ::= "hverr" | "hvat" | "hvar" | "hvenær" | "hví" | "hvernig"

<rhetorical-question> ::= "hvat" <opt-whitespace> <verb-phrase>

// ============================================================================
// RELATIVE CLAUSES
// ============================================================================

<relative-clause-extended> ::= "er" <opt-whitespace> <verb-phrase>
                            | "sem" <opt-whitespace> <verb-phrase>

// ============================================================================
// COMPOUND WORD FORMATION
// ============================================================================

<compound-word-extended> ::= <noun-stem> <opt-whitespace> <linking-s> <opt-whitespace> <noun-stem>
                          | <adjective> <opt-whitespace> <noun-stem>

<linking-s> ::= "s" | "ar" | ""

// ============================================================================
// ALLITERATION PATTERNS
// ============================================================================

<alliteration> ::= <initial-consonant> <opt-whitespace> <word> <opt-whitespace> <initial-consonant> <opt-whitespace> <word>

<initial-consonant> ::= /[bcdfghjklmnprstvwþð]/

// ============================================================================
// VOWEL CHANGES (UMLAUT)
// ============================================================================

<i-umlaut> ::= "a" /* becomes e/æ */
            | "o" /* becomes ø */
            | "u" /* becomes y */

<u-umlaut> ::= "a" /* becomes ǫ */
            | "e" /* becomes ø */

// ============================================================================
// CONTEXT-SENSITIVE VALIDATION RULES
// ============================================================================

@CONTEXT_RULE[gender-agreement-old-norse]:
    IF <adjective> MODIFIES <noun>
    THEN <adjective>.GENDER MUST_EQUAL <noun>.GENDER
    ELSE ERROR "Adjective gender must agree with noun in Old Norse"

@CONTEXT_RULE[number-agreement-old-norse]:
    IF <adjective> MODIFIES <noun>
    THEN <adjective>.NUMBER MUST_EQUAL <noun>.NUMBER
         INCLUDING_DUAL_NUMBER
    ELSE ERROR "Adjective number must agree with noun including dual"

@CONTEXT_RULE[case-agreement-old-norse]:
    IF <adjective> MODIFIES <noun>
    THEN <adjective>.CASE MUST_EQUAL <noun>.CASE
    ELSE ERROR "Adjective case must agree with noun"

@CONTEXT_RULE[subject-verb-agreement-old-norse]:
    IF <subject> IN_NOMINATIVE_CASE
    THEN <verb>.PERSON MUST_EQUAL <subject>.PERSON
         AND <verb>.NUMBER MUST_EQUAL <subject>.NUMBER
         INCLUDING_DUAL_NUMBER
    ELSE ERROR "Subject-verb agreement violation in Old Norse"

@CONTEXT_RULE[v2-word-order-old-norse]:
    IF <sentence> IS_MAIN_CLAUSE
    THEN <finite-verb> MUST_BE_SECOND_ELEMENT
    ELSE ERROR "V2 word order required in Old Norse main clauses"

@CONTEXT_RULE[dual-number-consistency]:
    IF <subject> IS_DUAL_NUMBER
    THEN <verb> MUST_BE_DUAL_FORM
         AND <adjective> MUST_BE_DUAL_FORM
    ELSE ERROR "Dual number must be consistent throughout"

@CONTEXT_RULE[six-case-system]:
    IF <noun> PRESENT
    THEN <noun> MUST_USE_ONE_OF_SIX_CASES
         ( NOMINATIVE | ACCUSATIVE | DATIVE | GENITIVE | VOCATIVE | INSTRUMENTAL )
    ELSE ERROR "Old Norse uses six-case system"

@CONTEXT_RULE[strong-verb-ablaut]:
    IF <verb> IS_STRONG_VERB
    THEN <verb> MUST_FOLLOW_ABLAUT_PATTERN
         FOR_ITS_CLASS
    ELSE ERROR "Strong verbs must follow ablaut patterns"

@CONTEXT_RULE[weak-verb-dental-suffix]:
    IF <verb> IS_WEAK_VERB
    THEN <past-tense> MUST_USE_DENTAL_SUFFIX ( "ð" | "t" )
    ELSE ERROR "Weak verbs use dental suffix in past tense"

@CONTEXT_RULE[preterite-present-conjugation]:
    IF <verb> IS_PRETERITE_PRESENT
    THEN <present-tense> USES_STRONG_PAST_ENDINGS
    ELSE ERROR "Preterite-present verbs use strong past endings in present"

@CONTEXT_RULE[middle-voice-marker]:
    IF <verb> IN_MIDDLE_VOICE
    THEN <verb> ENDS_WITH ( "sk" | "st" | "mk" | "zk" )
    ELSE ERROR "Middle voice requires specific markers"

@CONTEXT_RULE[definite-article-suffix]:
    IF <noun> IS_DEFINITE
    THEN <noun> USES_SUFFIX ( "inn" | "it" | "in" )
    ELSE <noun> HAS_NO_ARTICLE

@CONTEXT_RULE[dative-with-preposition-old-norse]:
    IF <preposition> IN_SET ( "at", "af", "frá", "hjá", "með", "úr" )
    THEN <noun-phrase> MUST_BE_DATIVE_CASE
    ELSE ERROR "These prepositions govern dative in Old Norse"

@CONTEXT_RULE[accusative-with-preposition-old-norse]:
    IF <preposition> IN_SET ( "um", "fyrir", "gegn", "í" )
    THEN <noun-phrase> MUST_BE_ACCUSATIVE_CASE
    ELSE ERROR "These prepositions govern accusative in Old Norse"

@CONTEXT_RULE[genitive-with-preposition-old-norse]:
    IF <preposition> IN_SET ( "til", "milli", "án", "vegna" )
    THEN <noun-phrase> MUST_BE_GENITIVE_CASE
    ELSE ERROR "These prepositions govern genitive in Old Norse"

@CONTEXT_RULE[instrumental-usage]:
    IF <instrumental-case> USED
    THEN TYPICALLY_WITH_PREPOSITION OR AS_ADVERB
    ELSE ERROR "Instrumental case has limited usage"

@CONTEXT_RULE[vocative-direct-address]:
    IF <noun> ADDRESSES_PERSON_DIRECTLY
    THEN <noun> MAY_USE_VOCATIVE_CASE
    ELSE <noun> USES_NOMINATIVE_OR_OTHER_CASE

@CONTEXT_RULE[participial-agreement-old-norse]:
    IF <past-participle> USED_ATTRIBUTIVELY
    THEN <past-participle> MUST_AGREE_IN_GENDER_NUMBER_CASE
    ELSE ERROR "Participial agreement required"

@CONTEXT_RULE[alliteration-in-poetry]:
    IF <poetic-structure> USED
    THEN ALLITERATION_REQUIRED_IN_APPROPRIATE_POSITIONS
    ELSE ERROR "Poetic meter requires alliteration"

@CONTEXT_RULE[internal-rhyme-dróttkvætt]:
    IF <dróttkvætt> USED
    THEN INTERNAL_RHYME_AND_ALLITERATION_REQUIRED
    ELSE ERROR "Dróttkvætt requires complex rhyme scheme"

@CONTEXT_RULE[kenning-structure]:
    IF <kenning> USED
    THEN BASE_WORD_AND_DETERMINANT_REQUIRED
    ELSE ERROR "Kennings require two-part structure"

@CONTEXT_RULE[heiti-poetic-register]:
    IF <heiti> USED
    THEN MUST_BE_IN_POETIC_CONTEXT
    ELSE WARNING "Heiti typically used in poetry"

@CONTEXT_RULE[runic-text-correspondence]:
    IF <runic-text> USED
    THEN CORRESPONDS_TO_LATIN_ALPHABET_TEXT
    ELSE ERROR "Runic text must correspond to pronunciation"

@CONTEXT_RULE[i-umlaut-trigger]:
    IF <suffix> CONTAINS_I_OR_J
    THEN <stem-vowel> MAY_UNDERGO_I_UMLAUT
    ELSE NO_UMLAUT

@CONTEXT_RULE[u-umlaut-trigger]:
    IF <suffix> CONTAINS_U
    THEN <stem-vowel> MAY_UNDERGO_U_UMLAUT
    ELSE NO_UMLAUT

@CONTEXT_RULE[breaking]:
    IF <stem-vowel> IS_E AND FOLLOWED_BY_A_OR_U
    THEN <vowel> BECOMES_JA_OR_JO
    ELSE NO_BREAKING

@CONTEXT_RULE[a-deletion]:
    IF <unstressed-A> IN_FINAL_SYLLABLE
    THEN <a> MAY_BE_DELETED
    ELSE <a> REMAINS

@CONTEXT_RULE[syncope]:
    IF <unstressed-VOWEL> IN_MEDIAL_SYLLABLE
    THEN <vowel> MAY_BE_DELETED
    ELSE <vowel> REMAINS

@CONTEXT_RULE[assimilation]:
    IF <consonant> PRECEDES_SIMILAR_CONSONANT
    THEN ASSIMILATION_MAY_OCCUR
    ELSE NO_ASSIMILATION

@CONTEXT_RULE[west-norse-features]:
    IF @DIALECT[west-norse] USED
    THEN PRESERVE_U_IN_UNSTRESSED_SYLLABLES
    ELSE U_MAY_BECOME_A

@CONTEXT_RULE[east-norse-features]:
    IF @DIALECT[east-norse] USED
    THEN U_BECOMES_A_IN_UNSTRESSED_SYLLABLES
    ELSE PRESERVE_U

@CONTEXT_RULE[compound-word-linking]:
    IF <compound-word-extended> FORMED
    THEN <linking-s> MAY_BE_INSERTED
    ELSE NO_LINKING_ELEMENT

@CONTEXT_RULE[negation-placement]:
    IF <negation> USED
    THEN <negation> TYPICALLY_FOLLOWS_FINITE_VERB
    ELSE ERROR "Negation placement error"

@CONTEXT_RULE[question-word-fronting-old-norse]:
    IF <wh-question> USED
    THEN <question-word> MUST_BE_SENTENCE_INITIAL
    ELSE ERROR "Question words must be fronted in Old Norse"

@CONTEXT_RULE[relative-clause-marker]:
    IF <relative-clause> USED
    THEN USE_RELATIVE_PARTICLE ( "er" | "sem" )
    ELSE ERROR "Relative particle required"

@CONTEXT_RULE[conditional-subjunctive]:
    IF <conditional-clause> PRESENT
    THEN <verb> SHOULD_USE_SUBJUNCTIVE
    ELSE <verb> USES_INDICATIVE

@CONTEXT_RULE[reported-speech-subjunctive]:
    IF <indirect-speech> USED
    THEN <subordinate-verb> MAY_USE_SUBJUNCTIVE
    ELSE <subordinate-verb> USES_INDICATIVE

@CONTEXT_RULE[optative-mood]:
    IF <wish> OR <prayer> EXPRESSED
    THEN <verb> MAY_USE_OPTATIVE_SUBJUNCTIVE
    ELSE <verb> USES_INDICATIVE

@CONTEXT_RULE[imperative-subject-deletion]:
    IF <verb> IN_IMPERATIVE_MOOD
    THEN <subject> TYPICALLY_DELETED
    ELSE <subject> PRESENT

@CONTEXT_RULE[infinitive-marker]:
    IF <infinitive> USED
    THEN MAY_USE_"at"_MARKER_OR_BARE_INFINITIVE
    ELSE ERROR "Infinitive form error"

@CONTEXT_RULE[causative-verb-syntax]:
    IF <causative-construction> USED
    THEN "láta" WITH_OBJECT WITH_INFINITIVE
    ELSE ERROR "Causative construction requires specific syntax"

@CONTEXT_RULE[permissive-verb-syntax]:
    IF <permissive-construction> USED
    THEN "leyfa" WITH_OBJECT WITH_"at"_INFINITIVE
    ELSE ERROR "Permissive construction requires specific syntax"

@CONTEXT_RULE[discourse-marker-position]:
    IF <discourse-marker> USED
    THEN TYPICALLY_SENTENCE_INITIAL_OR_AFTER_FINITE_VERB
    ELSE ERROR "Discourse marker position error"

@CONTEXT_RULE[temporal-expression-case]:
    IF <temporal-expression> USED
    THEN MAY_USE_ACCUSATIVE_OR_DATIVE_CASE
    ELSE ERROR "Temporal expressions have specific case requirements"

@CONTEXT_RULE[poetic-license]:
    IF <poetic-structure> USED
    THEN SYNTACTIC_INVERSION_AND_ARCHAIC_FORMS_ALLOWED
    ELSE FOLLOW_STANDARD_PROSE_SYNTAX

@CONTEXT_RULE[skaldic-word-order]:
    IF <dróttkvætt> OR <hrynhent> USED
    THEN EXTREME_WORD_ORDER_VARIATION_ALLOWED
    ELSE FOLLOW_STANDARD_V2_WORD_ORDER

@CONTEXT_RULE[fornyrðislag-syntax]:
    IF <fornyrðislag> USED
    THEN SIMPLE_SYNTAX_PREFERRED
    ELSE MORE_COMPLEX_SYNTAX_ALLOWED

@CONTEXT_RULE[ljóðaháttr-structure]:
    IF <ljóðaháttr> USED
    THEN GNOMIC_STATEMENTS_COMMON
    ELSE NARRATIVE_STATEMENTS_COMMON

@CONTEXT_RULE[alliterative-consonants]:
    IF <alliteration> USED
    THEN STRESSED_SYLLABLES_MUST_BEGIN_WITH_SAME_SOUND
    ELSE ERROR "Alliteration requires matching initial sounds"

@CONTEXT_RULE[vowel-alliteration]:
    IF <alliteration> ON_VOWELS
    THEN ANY_VOWEL_ALLITERATES_WITH_ANY_VOWEL
    ELSE CONSONANTS_MUST_MATCH_EXACTLY

// END OF GRAMMAR
